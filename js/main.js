var html,mask,mobileNav,navbar;function tableWrap(){mengd.$queryAll(".post-content>table,.content>table").forEach(function(e){mengd.wrap(e,"div",null,"table-wrap")})}function openMobile(){var e=mengd.$query(".open-nav");e&&(e.onclick=function(){mobileNav.classList.contains("open-mobile")||(mobileNav.className="open-mobile",mask.className="mask")})}function closeAll(){var e=mengd.$id("local-search");e&&(e.classList.remove("search-animation-max"),e.classList.add("search-animation-min"),setTimeout(function(){e.style.display=""},500)),html.style.overflow="auto",mobileNav&&(mobileNav.classList.remove("open-mobile"),mobileNav.style.opacity=""),mask.className=""}function DarkMode(){var e,t,n;mengd.$id("darkmode")&&(e=document.getElementsByTagName("body")[0],t=mengd.$id("darkmode"),n=mengd.$query("#darkmode i"),"true"===localStorage.isDark?(html.setAttribute("theme","dark"),n.classList.remove("fa-moon"),n.classList.add("fa-sun")):(html.removeAttribute("theme"),n.classList.remove("fa-sun"),n.classList.add("fa-moon")),t.onclick=function(){"true"!==localStorage.isDark?(localStorage.isDark="true",e.style="transition: all .3s linear",html.setAttribute("theme","dark"),n.classList.remove("fa-moon"),n.classList.add("fa-sun")):(localStorage.isDark="false",e.style="transition: all .3s linear",html.removeAttribute("theme"),n.classList.remove("fa-sun"),n.classList.add("fa-moon"))})}function articlePage(){if(mengd.$id("post")){{const r=mengd.$query(".post-obsolete");var e;r&&(e=+r.getAttribute("limit_day"),a=mengd.getDaysDiffBetweenDates(r.getAttribute("created")),e<=(e=mengd.getDaysDiffBetweenDates(r.getAttribute("updated")))&&(r.innerHTML=r.innerHTML.replace("${created}",a).replace("${updated}",e),r.classList.remove("display-none")))}if(mengd.$queryAll("figure.highlight").forEach(function(e){var t="plaintext"==(t=e.classList[1])?"code":t;e.insertAdjacentHTML("afterbegin",`<div class='code-block' lang='${t}'>
                  <span class='clipboard'><i class='fa fa-clipboard'></i></span>
                 </div>`)}),mengd.getScript($config.CDN.fancyboxJs,function(){const e=mengd.$queryAll(".post-content img");e.forEach(e=>e.setAttribute("data-fancybox",""));var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=$config.CDN.fancyboxCss,document.head.appendChild(t)}),$config.codeBlockExpand&&$config.codeBlockExpand.enable){for(var t=mengd.$queryAll("figure.highlight"),o=$config.codeBlockExpand.height,n=0;n<t.length;n++)t[n].clientHeight>o&&(t[n].style="max-height: "+o+"px",t[n].insertAdjacentHTML("beforeend",'<div class="show-btn"><i class="fas fa-angle-down"></i></div>'));mengd.$queryAll(".show-btn").forEach(function(a){a.onclick=function(){var e,t,n=a.childNodes[0];"fas fa-angle-down"==n.className?(n.classList.remove("fa-angle-down"),n.classList.add("fa-angle-up"),a.parentNode.style=""):(n.classList.remove("fa-angle-up"),n.classList.add("fa-angle-down"),a.parentNode.style="max-height: "+o+"px",a.previousElementSibling.style="",scrollTop=document.documentElement.scrollTop||document.body.scrollTop,n=a.getBoundingClientRect().bottom+scrollTop,e=$config.codeBlockExpand.height,t=$config.codeBlockExpand.scrollTop,window.scrollTo(0,n-e-t))}})}var a,l,i,s,c;a=mengd.$id("open-toc"),l=mengd.$id("toc-wrap"),a&&l&&(a.onclick=function(){parseInt(l.style.opacity)?(l.style.animation="toc-close .3s",setTimeout(function(){l.style="opacity:0;animation:'';right: ''"},150)):l.style="opacity:1;right:30px;animation: toc-open .3s"}),i=mengd.$query(".post-content"),s=mengd.$query(".num"),c=mengd.$query(".progress"),window.addEventListener("scroll",mengd.throttle(function(){var e,t,n=window.scrollY||document.documentElement.scrollTop,a=document.documentElement.clientHeight;i&&s&&(e=i.offsetTop,t=a<(t=i.clientHeight)?t-a:document.documentElement.scrollHeight-a,a=Math.round(100*((n-e)/t)),s.innerText=(n=100<a?100:a<=0?0:a)+"%",c.value=n)},10)),mengd.$queryAll("figure.highlight").forEach(function(t){var n=t.firstChild.childNodes[1];n.onclick=function(){var e=window.getSelection();e.selectAllChildren(t.querySelector(".code")),navigator.clipboard?navigator.clipboard.writeText(e.toString()):document.execCommand("copy"),e.removeAllRanges(),n.innerHTML='<i class="fa fa-check" style="color:green"></i>',setTimeout(function(){n.innerHTML='<i class="fa fa-clipboard"></i>'},2e3)}})}}function exeAllFn(){html=document.getElementsByTagName("html")[0],mask=mengd.$id("mask"),mobileNav=mengd.$id("mobile-nav"),(navbar=mengd.$query(".navbar"))&&(navbar.style=""),articlePage(),tableWrap(),openMobile(),closeAll(),DarkMode()}document.addEventListener("DOMContentLoaded",function(){var t=0;(navbar=mengd.$query(".navbar"))&&window.addEventListener("scroll",mengd.throttle(function(){var e=window.scrollY||document.documentElement.scrollTop;t=(t<e?navbar.style.transform="translateY(-60px)":navbar.style="",e)},100))}),document.addEventListener("DOMContentLoaded",exeAllFn);